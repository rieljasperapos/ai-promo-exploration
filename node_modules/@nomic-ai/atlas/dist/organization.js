import { BaseAtlasClass } from './user.js';
import { AtlasDataset } from './project.js';
export class AtlasOrganization extends BaseAtlasClass {
    constructor(id, viewer) {
        super(viewer);
        this.id = id;
    }
    endpoint() {
        return `/v1/organization/${this.id}`;
    }
    async projects() {
        const info = (await this.fetchAttributes());
        return info.projects;
    }
    async create_project(options) {
        if (options.unique_id_field === undefined) {
            throw new Error('unique_id_field is required');
        }
        if (options.project_name === undefined) {
            throw new Error('Project name is required');
        }
        options['modality'] = options['modality'] || 'text';
        const data = (await this.apiCall(`/v1/project/create`, 'POST', {
            ...options,
            organization_id: this.id,
        }));
        return new AtlasDataset(data['project_id'], this.viewer);
    }
}
